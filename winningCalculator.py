import streamlit as st
import pandas as pd

def run_WinningCalculator():
    st.set_page_config(page_title="Win How Much?", page_icon="ğŸ’°", layout="centered")

    # Title
    st.markdown("""<div class="title-banner"><h1>ğŸ’° Win How Much? ğŸ’°</h1></div>""", unsafe_allow_html=True)

    # Inputs
    big_bet, small_bet = st.columns(2)
    big_bet = big_bet.number_input("ğŸ’µ Big Bet", min_value=0, value=0, step=1)
    small_bet = small_bet.number_input("ğŸ’µ Small Bet", min_value=0, value=0, step=1)

    # Prize structure
    prizes = {
        "First": (2000, 3000), "Second": (1000, 2000), "Third": (490, 800),
        "Starter": (250, None), "Consolation": (60, None)
    }

    # Build table
    rows = []
    for cat, (bp, sp) in prizes.items():
        big_actual, small_actual = (big_bet * bp if bp else 0), (small_bet * sp if sp else 0)
        total = big_actual + small_actual
        rows.append({
            "Category": cat,
            "Total": f"<span style='font-weight:bold; color:green;'>${total:,}</span>" if total else f"${total:,}",
            "Big Prize": f"${bp:,}" if bp else "â€¢", "Big Bet": f"${big_bet:,}", "Big Actual": f"${big_actual:,}",
            "Small Prize": f"${sp:,}" if sp else "â€¢", "Small Bet": f"${small_bet:,}",
            "Small Actual": f"${small_actual:,}"
        })

    df = pd.DataFrame(rows)
    st.markdown(f"<div class='responsive-table'>{df.to_html(escape=False, index=False)}</div>", unsafe_allow_html=True)
    show_4d_bet_types()

def show_4d_bet_types():
    entries = [
        ("1ï¸âƒ£ Ordinary Entry", "Bet on a specific 4-digit number.", "Ex: **1234**"),
        ("2ï¸âƒ£ 4-D Roll", "Replace one digit with **'R'** (0â€“9).", "Ex: **R234** â†’ `0234, 1234, ..., 9234`"),
        ("3ï¸âƒ£ System Entry", "Bet on all permutations of a number.", "Ex: **1234** â†’ 24 perms"),
        ("4ï¸âƒ£ iBet", "System Entry from $1 regardless of perms.", "Ex: iBet **1234** covers 24 perms"),
        ("5ï¸âƒ£ Quickpick", "Random number generated by system.", "Ex: **5821**"),
    ]
    for t, d, e in entries: st.markdown(f"**{t}**\n{d}\n{e}\n")
    st.caption("ğŸ’¡ Tip: Mix bet types depending on your risk and payout style.")
